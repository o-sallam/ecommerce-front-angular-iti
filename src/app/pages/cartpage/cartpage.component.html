<div class="checkout-container">
  <div class="container">
    <div class="checkout-header">
      <h1>Shopping Cart</h1>
    </div>

    <div class="checkout-content">
      <div *ngIf="loading">
        <div class="row">
          <div class="col-lg-8">
            <div class="cart-items-container">
              <div
                class="d-flex justify-content-between align-items-center mb-3"
              >
                <div class="skeleton" style="width: 150px; height: 24px"></div>
                <div class="skeleton" style="width: 100px; height: 36px"></div>
              </div>
              <div *ngFor="let item of [1, 2, 3]" class="mb-2">
                <div class="skeleton" style="width: 100%; height: 80px"></div>
              </div>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="order-summary">
              <div class="skeleton" style="width: 120px; height: 24px"></div>
              <div
                class="skeleton my-2"
                style="width: 100%; height: 20px"
              ></div>
              <div
                class="skeleton mt-3"
                style="width: 100%; height: 40px"
              ></div>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="!loading">
        <ng-container *ngIf="cartItems.length > 0; else emptyCart">
          <div class="row">
            <div class="col-lg-8">
              <div class="cart-items-container">
                <div
                  class="d-flex justify-content-between align-items-center mb-3"
                >
                  <h4>{{ totalItems }} Items</h4>
                  <button (click)="clearCart()" class="btn-primary">
                    Remove All
                  </button>
                </div>
                <app-cart
                  [items]="cartItems"
                  (increment)="handleIncrement($event)"
                  (decrement)="handleDecrement($event)"
                  (delete)="deleteItem($event)"
                ></app-cart>
              </div>
            </div>

            <div class="col-lg-4">
              <div class="order-summary">
                <h3>Order Summary</h3>
                <div class="summary-totals">
                  <div class="summary-row">
                    <span>Total:</span>
                    <span>Â£{{ total.toFixed(2) }}</span>
                  </div>
                </div>
                <button routerLink="/checkout/shipping" class="btn-place-order">
                  Proceed to Checkout
                </button>
              </div>
            </div>
          </div>
        </ng-container>
      </div>
    </div>

    <!-- Empty cart message -->
    <ng-template #emptyCart>
      <div class="text-center p-5">
        <h2 class="mt-4">Your cart is empty</h2>
        <p class="text-muted">
          Looks like you haven't added anything to your cart yet.
        </p>
        <a routerLink="/products" class="btn btn-primary1 btn-lg mt-3"
          >Shop Now</a
        >
      </div>
    </ng-template>
  </div>
</div>
