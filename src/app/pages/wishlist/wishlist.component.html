<div class="wishlist-container">
  <div class="container">
    <div class="wishlist-header">
      <h1>My Wishlist</h1>
      <p class="wishlist-subtitle">Items you've saved for later</p>
    </div>

    <div *ngIf="loading" class="text-center">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>

    <div *ngIf="error" class="alert alert-danger">{{ error }}</div>

    <div *ngIf="!loading && wishlistItems.length === 0" class="empty-wishlist">
      <div class="empty-wishlist-content">
        <div class="empty-wishlist-icon">
          <svg width="80" height="80" viewBox="0 0 24 24" fill="none">
            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" stroke="#93353E" stroke-width="2" fill="none"/>
          </svg>
        </div>
        <h3>Your wishlist is empty</h3>
        <p>Start adding items you love to your wishlist</p>
        <button class="btn-shop-now" routerLink="/products">
          Shop Now
        </button>
      </div>
    </div>

    <div *ngIf="!loading && wishlistItems.length > 0" class="wishlist-grid">
      <div class="wishlist-item" *ngFor="let item of wishlistItems">
        <div class="item-image" (click)="viewProduct(item.productId.id)">
          <img [src]="item.productId.thumbnail" [alt]="item.productId.name">
          <div class="item-overlay">
            <button class="quick-view-btn" (click)="viewProduct(item.productId.id)">
              Quick View
            </button>
          </div>
        </div>
        
        <div class="item-details">
          <h3 (click)="viewProduct(item.productId.id)">{{ item.productId.name }}</h3>
          <p class="item-category">{{ item.productId.category }}</p>
          <p class="item-price">Â£{{ item.productId.price }}</p>
          
          <div class="item-actions">
            <button class="btn-add-to-cart" (click)="addToCart(item.productId.id)">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                <path d="M9 22C9.55228 22 10 21.5523 10 21C10 20.4477 9.55228 20 9 20C8.44772 20 8 20.4477 8 21C8 21.5523 8.44772 22 9 22Z" fill="currentColor"/>
                <path d="M20 22C20.5523 22 21 21.5523 21 21C21 20.4477 20.5523 20 20 20C19.4477 20 19 20.4477 19 21C19 21.5523 19.4477 22 20 22Z" fill="currentColor"/>
                <path d="M1 1H5L7.68 14.39C7.77144 14.8504 8.02191 15.264 8.38755 15.5583C8.75318 15.8526 9.2107 16.009 9.68 16H19.4C19.8693 16.009 20.3268 15.8526 20.6925 15.5583C21.0581 15.264 21.3086 14.8504 21.4 14.39L23 6H6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Add to Cart
            </button>
            
            <button class="btn-remove" (click)="removeFromWishlist(item.productId.id)">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                <path d="M3 6H5H21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Remove
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
